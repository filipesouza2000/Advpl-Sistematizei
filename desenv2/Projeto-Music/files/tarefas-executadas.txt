-projeto xCDModX()
-Artistas serão clientes a efetuar gravação e criar CD, 
sendo também fornecedor para a venda de seu produto gravado no mesmo ou em outro estudio.
-Rever sobre novos campos e relacionamento entre:
	SA1 - SB1
	SB1 - ZD3
-Criar campo B1_XART para relacionar com A1_COD
-Criar campo B1_XEST para receber codigo de estudio, podendo ser na X5 ou outra customizada.

-Alterar Layout de horinzontal para vertical
-Remover campo B1_XART da estrutura a não exibir.
-Remover campo B1_AFAMAD da estrutura a não exibir.
-Desabiliar campo A1_COD, iniciar com GETXENUM
-Desabiliar campo A2_COD, iniciar com GETXENUM
-Desabilitar e retirar autoincrement do B1_COD, utilizar gatilho a função xCodProd 
	-mudar gatilho para chamar só B1_TIPO
	-resolver a sequencia B1_COD que pára em único registro.
	-no evento cancelar, zerar a variável Private que pega o cod do registro.

 
-Cenario Ensaio:
	Cliente solicita estudio e é consultado a disponibilidade, 
	Cliente não existente é cadastrado -SA1, 
	com dia e hora disponivel ele agenda serviço com dia, horário e tempo para serviço -ZD1, com status 1-ON
	cliente recebe um documento do registro com os dados do agendamento,	 
	O estudio local-ZD2 recebe agenda, cliente utiliza o estudio e finaliza sua agenda
	recebendo nota fiscal do serviço com data de vencimento e valor.
	atualiza status 2-OK
	
-Cenario Gravação:
	cliente fecha contrato de gravação de CD ou solicita novo agendamento,
	para agendamento inicial do projeto são especificados CDs -SB1 com suas musicas -ZD3,
	Cliente não existente é cadastrado -SA1, também é registrado um Artista -ZD4 para este cliente e -ZD5 de Artista x Cliente,
	com dia e hora disponivel ele agenda gravação de seu instrumento , para cd e música em andamento, na -ZD1 com status 1-ON
	Em projeto em andamento, é gerado novo agendamento para cada instrumentista em cada música na lista,
	no produto tipo CD e sua música em gravação deve manter status de 'ON', 
	indicando projeto em andamento e ainda não liberar para venda.
	O estudio local-ZD2 recebe agenda desabilitando datas e horários solicitados,
	cliente utiliza o estudio e grava dentro do tempo especificado,
	se necessário gerará novo agendamento para mesma música e instrumento ou próximos.
	Quando finaliza cada gravação é atalizado seu status,
	Concluindo músicas o estudio produz o CD e atualiza os Status do produto e músicas.
	
-Cenário contrato gravação
	Cliente faz o contrato contendo os serviços de gravação, mixagem e masterização, apresentando dados do CD
	com suas respectivas músicas, determinando o total de tempo a ser gravado.
	Contrato gera pedido de venda contendo o CD da gravação, gera Documento de saída Nota Fiscal.
	
05/08 - 
	x	Gatilho via codigo para campo ZD1_SERV quando muda, para 1, apaga campos ZD1_INSTR ,ZD1_NINSTR , ZD1_CODA , ZD1_ART já preenchidos
	x	Gerar Browse de registro para tabela ZD4-ARTISTA, com relação com SA1-Cliente
		  Não foi possível pelo protheus não ter relacionamentos integrados, formei somente ZD4
	x	Na View retirar da oStrArt o campo ZD4_CLI
	x	GetSxEnum no ZD4_COD
	x	Criar tabela genérica para Gênero Musical, consulta padrão para campo ZD4_GENERO	
	x	testados registros com integridade de dados

11/08-	xContrato de gravação
	x	gerar protótipo do layout- xContr modelo1 ZD5
	x	criar gatilho no campo cod cliente, para filtrar somente os que existem em ZD4
28/08- xContr
	x	gerar campo ZD5_DATA para iniciar com data do sistema.
	x	atualizar para modelo 2 e 3	
	x	Gatilho B1_TIPO, campo B1_COD recebe U_xCodProd()
	x	Gerar auto preenchimento de ZD5_QCD,ZD5_FAIXAS e ZD5_TEMPO relativo a totalizadores. 
	x		U_xTotCd()  no campo B1_TIPO   ,validação do usuário, para chamar função ao editar. Preenche ZD5_QCD
	x		U_xTotMus() no campo ZD3_MUSICA,validação do usuário, para chamar função ao editar. Preenche ZD5_FAIXAS
	x		U_xTotDur() no campo ZD3_DURAC, validação do usuário, para chamar função ao editar. Preenche ZD5_TEMPO
	x	Alterada tabelaSB1 como Compartilhada de filial em SX2
12/09 	
	x		atualizar pesquisa padrão ZD5 do campo cod artista para retornar ZD4_CLI==M->ZD5_CLI
	x		gatilho para zerar campos de artista ao alterar o campo cod cliente.
	x		criar campo ZD3_XCONT  para o relacionamento com música.
	x		atualizar relacionamento Musica com Contrato adicionando campo ZD3_XCONT
	x		validar digitos do tempo , xTotDur().   
	x		somar tempo formatado e atribuir ao totalizador e campos, IncTime('10:50:40',20,15,25 )
13/09
	x		otimizar soma do tempo na lista de musicas, ao alterar é atualizada.
	x		ponto de entrada FORMLINEPRE em "ZD3Detail", pegar valor da linha ativa, para decrementar ao editar
	x		ao invalidar valor, faz cálculo mesmo assim, precisa impedir o cálculo.
	£££££££	ao editar e confirmar com o mesmo número, é somado no Totalizador padrão.	
				
			10:10
			05:05   15:15
			
			10:10   20:20	
				
		
	erro-- 1ª Musica do 1º CD conta correto,mas no proximo cd não conta a 1ª, só se teclar para baixo, incluindo mais.
		--nos totalizadores não decrementam após clicar para baixo e para cima,só adiciona.

		
		gerar documento do contrato
		identificar formas de pagamento	
		
		
https://advplconsulting.wordpress.com/2016/11/03/funcoes-de-horas/
	validação campo de horário	
(Left(M->CAMPO,2)>'00' .And. Left(M->CAMPO,2)<='24' .And. Right(M->CAMPO,2)>='00' .And. Right(M->CAMPO,2)<='59')                                                                                       

	

	
	
	
	
	
  